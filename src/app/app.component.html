<div class="container">
  <!-- Form for Creating or Editing Employee -->
  <h2>{{ isEditing ? 'Edit Employee Details' : 'Add New Employee' }}</h2>

  <form (ngSubmit)="onSubmit()">
    <!-- Employee ID (Hidden for Create, Visible for Edit) -->
    <div class="mb-3" *ngIf="isEditing">
      <label for="empId" class="form-label">Employee ID</label>
      <input
        type="text"
        id="empId"
        name="empId"
        [(ngModel)]="employee.empId"
        class="form-control"
        required
        readonly
      />
    </div>

    <!-- Other form fields (first name, last name, etc.) -->
    <div class="mb-3">
      <label for="firstName" class="form-label">First Name</label>
      <input
        type="text"
        id="firstName"
        name="firstName"
        [(ngModel)]="employee.firstName"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="lastName" class="form-label">Last Name</label>
      <input
        type="text"
        id="lastName"
        name="lastName"
        [(ngModel)]="employee.lastName"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        [(ngModel)]="employee.email"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="phone" class="form-label">Phone</label>
      <input
        type="tel"
        id="phone"
        name="phone"
        [(ngModel)]="employee.phone"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="dob" class="form-label">Date of Birth</label>
      <input
        type="date"
        id="dob"
        name="dob"
        [(ngModel)]="employee.dob"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="gender" class="form-label">Gender</label>
      <input
        type="text"
        id="gender"
        name="gender"
        [(ngModel)]="employee.gender"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="address" class="form-label">Address</label>
      <textarea
        id="address"
        name="address"
        [(ngModel)]="employee.address"
        class="form-control"
        required
      ></textarea>
    </div>

    <div class="mb-3">
      <label for="department" class="form-label">Department</label>
      <input
        type="text"
        id="department"
        name="department"
        [(ngModel)]="employee.department"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="joiningDate" class="form-label">Joining Date</label>
      <input
        type="date"
        id="joiningDate"
        name="joiningDate"
        [(ngModel)]="employee.joiningDate"
        class="form-control"
        required
      />
    </div>

    <div class="mb-3">
      <label for="salary" class="form-label">Salary</label>
      <input
        type="number"
        id="salary"
        name="salary"
        [(ngModel)]="employee.salary"
        class="form-control"
        required
      />
    </div>

    <button type="submit" class="btn btn-primary">
      {{ isEditing ? 'Update Employee' : 'Add Employee' }}
    </button>

    <!-- Delete button (only visible when editing an existing employee) -->
    <button
      type="button"
      *ngIf="isEditing"
      class="btn btn-danger"
      (click)="deleteEmployee(employee.empId)"
    >
      Delete Employee
    </button>
  </form>

  <!-- List of Employees -->
  <h3 class="mt-5">Employee List</h3>
  <table class="table">
    <thead>
      <tr>
        <th>Emp ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Email</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let emp of employees">
        <td>{{ emp.empId }}</td>
        <td>{{ emp.firstName }}</td>
        <td>{{ emp.lastName }}</td>
        <td>{{ emp.email }}</td>
        <td>
          <button class="btn btn-warning" (click)="fetchEmployeeData(emp.empId)">
            Edit
          </button>
          <button class="btn btn-danger" (click)="deleteEmployee(emp.empId)">
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
